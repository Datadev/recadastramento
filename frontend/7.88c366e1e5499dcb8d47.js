(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"0G8V":function(t,e,a){"use strict";a.r(e),a.d(e,"UsuariosModule",function(){return Y});var i=a("ofXK"),o=a("tyNb"),n=a("3S9H"),r=a("w4NO"),c=a("M9IT"),s=a("Dh3D"),l=a("xgIS"),u=a("Kj3r"),b=a("/uUt"),d=a("vkgz"),m=a("nYR2"),f=a("jtHE"),p=a("2Vo4");class h{constructor(t){this.servico=t,this.dataSubject=new f.a,this.loadingSubject=new p.a(!1),this.total=0,this.loading$=this.loadingSubject.asObservable()}connect(t){return this.dataSubject.asObservable()}disconnect(t){this.dataSubject.complete(),this.loadingSubject.complete()}carregar(t,e,a,i,o){this.loadingSubject.next(!0),this.servico.listar(t,e,a,i+1,o).pipe(Object(m.a)(()=>this.loadingSubject.next(!1))).subscribe(t=>{this.total=t.total,this.dataSubject.next(t.data),this.loadingSubject.next(!1)})}}var g=a("fXoL"),v=a("sksZ"),U=a("kmnG"),T=a("qFsG"),S=a("NFeN"),C=a("+0xr"),w=a("bTqV");const D=["input"];function y(t,e){1&t&&(g.Ub(0,"th",16),g.Cc(1,"Matr\xedcula"),g.Tb())}function M(t,e){if(1&t&&(g.Ub(0,"td",17),g.Cc(1),g.Tb()),2&t){const t=e.$implicit;g.Db(1),g.Dc(t.login)}}function x(t,e){1&t&&(g.Ub(0,"th",16),g.Cc(1,"Nome"),g.Tb())}function O(t,e){if(1&t&&(g.Ub(0,"td",17),g.Cc(1),g.Tb()),2&t){const t=e.$implicit;g.Db(1),g.Dc(t.nome)}}function P(t,e){1&t&&(g.Ub(0,"th",18),g.Cc(1,"Perfis"),g.Tb())}function j(t,e){if(1&t&&(g.Ub(0,"td",17),g.Cc(1),g.Tb()),2&t){const t=e.$implicit;g.Db(1),g.Dc(t.perfis)}}function I(t,e){1&t&&g.Pb(0,"th",18)}function k(t,e){if(1&t){const t=g.Vb();g.Ub(0,"td",17),g.Ub(1,"button",19),g.cc("click",function(){g.uc(t);const a=e.$implicit;return g.gc().editarUsuario(a.id)}),g.Ub(2,"mat-icon"),g.Cc(3,"visibility"),g.Tb(),g.Tb(),g.Tb()}}function R(t,e){1&t&&g.Pb(0,"tr",20)}function L(t,e){if(1&t){const t=g.Vb();g.Ub(0,"tr",21),g.cc("click",function(){g.uc(t);const a=e.$implicit;return g.gc().editarUsuario(a.id)}),g.Tb()}}const F=function(){return[10,25,50]};let A=(()=>{class t{constructor(t,e){this.router=t,this.servico=e,this.displayedColumns=["login","nome","perfis","acoes"]}ngOnInit(){this.dataSource=new h(this.servico),this.dataSource.carregar("",this.displayedColumns[0],"asc",0,10)}ngAfterViewInit(){Object(l.a)(this.input.nativeElement,"keyup").pipe(Object(u.a)(200),Object(b.a)(),Object(d.a)(()=>{this.paginator.pageIndex=0,this.carregarResultados()})).subscribe(),this.sort.sortChange.subscribe(()=>{this.paginator.pageIndex=0,this.carregarResultados()}),this.paginator.page.pipe(Object(d.a)(()=>this.carregarResultados())).subscribe()}carregarResultados(){this.dataSource.carregar(this.input.nativeElement.value,this.sort.active,this.sort.direction,this.paginator.pageIndex,this.paginator.pageSize)}editarUsuario(t){this.router.navigate(["/usuarios/",t])}}return t.\u0275fac=function(e){return new(e||t)(g.Ob(o.c),g.Ob(v.g))},t.\u0275cmp=g.Ib({type:t,selectors:[["app-lista-usuarios"]],viewQuery:function(t,e){if(1&t&&(g.Fc(c.a,1),g.Fc(s.a,1),g.Fc(D,1)),2&t){let t;g.rc(t=g.dc())&&(e.paginator=t.first),g.rc(t=g.dc())&&(e.sort=t.first),g.rc(t=g.dc())&&(e.input=t.first)}},decls:25,vars:7,consts:[[1,"margin-10"],["matInput","","placeholder","Pesquisar"],["input",""],["matSuffix",""],[1,"mat-elevation-z8"],["mat-table","","matSort","","matSortActive","login","matSortDirection","asc","matSortDisableClear","",1,"full-width-table",3,"dataSource"],["matColumnDef","login"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","nome"],["matColumnDef","perfis"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","acoes"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[3,"length","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","title","Ver usu\xe1rio",3,"click"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(t,e){1&t&&(g.Ub(0,"div",0),g.Ub(1,"h2"),g.Cc(2,"Usu\xe1rios"),g.Tb(),g.Ub(3,"mat-form-field"),g.Pb(4,"input",1,2),g.Ub(6,"mat-icon",3),g.Cc(7,"search"),g.Tb(),g.Tb(),g.Ub(8,"div",4),g.Ub(9,"table",5),g.Sb(10,6),g.Bc(11,y,2,0,"th",7),g.Bc(12,M,2,1,"td",8),g.Rb(),g.Sb(13,9),g.Bc(14,x,2,0,"th",7),g.Bc(15,O,2,1,"td",8),g.Rb(),g.Sb(16,10),g.Bc(17,P,2,0,"th",11),g.Bc(18,j,2,1,"td",8),g.Rb(),g.Sb(19,12),g.Bc(20,I,1,0,"th",11),g.Bc(21,k,4,0,"td",8),g.Rb(),g.Bc(22,R,1,0,"tr",13),g.Bc(23,L,1,0,"tr",14),g.Tb(),g.Pb(24,"mat-paginator",15),g.Tb(),g.Tb()),2&t&&(g.Db(9),g.mc("dataSource",e.dataSource),g.Db(13),g.mc("matHeaderRowDef",e.displayedColumns),g.Db(1),g.mc("matRowDefColumns",e.displayedColumns),g.Db(1),g.mc("length",e.dataSource.total)("pageSize",10)("pageSizeOptions",g.oc(6,F)))},directives:[U.c,T.b,S.a,U.h,C.j,s.a,C.c,C.e,C.b,C.g,C.i,c.a,C.d,s.b,C.a,w.a,C.f,C.h],styles:[".full-width[_ngcontent-%COMP%], .full-width-table[_ngcontent-%COMP%]{width:100%}.margin-10[_ngcontent-%COMP%]{margin:10px}.mat-row[_ngcontent-%COMP%]:hover{background-color:#f0f8ff}.spinner-container[_ngcontent-%COMP%]{width:200px;margin:0 auto}"]}),t})();var B=a("Wp6s"),N=a("XiUz"),z=a("3Pt+"),V=a("d3UM"),_=a("FKr1");let G=(()=>{class t{transform(t,...e){return t?"Sim":"N\xe3o"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=g.Nb({name:"simNao",type:t,pure:!0}),t})();function $(t,e){if(1&t&&(g.Ub(0,"mat-option",19),g.Cc(1),g.Tb()),2&t){const t=e.$implicit;g.mc("value",t.chave),g.Db(1),g.Ec(" ",t.valor," ")}}const E=function(){return["/usuarios"]},H=[{path:"",component:A,canActivate:[r.a],runGuardsAndResolvers:"always",data:{roles:[n.a.administrador]}},{path:":id",component:(()=>{class t{constructor(t,e,a,i){this.route=t,this.configService=e,this.notificacaoService=a,this.usuarioService=i}ngOnInit(){const t=this.route.snapshot.params.id;this.configService.getConfigList().subscribe(t=>this.config=t),this.usuarioService.buscarPorId(t).subscribe(t=>this.usuario=t)}alterarPerfil(){this.usuarioService.alterarPerfil(this.usuario.id,this.usuario.perfis[0]).subscribe({next:t=>this.notificacaoService.sucesso(null==t?void 0:t.message),error:t=>this.notificacaoService.erro(t)})}}return t.\u0275fac=function(e){return new(e||t)(g.Ob(o.a),g.Ob(v.b),g.Ob(v.e),g.Ob(v.g))},t.\u0275cmp=g.Ib({type:t,selectors:[["app-usuario"]],decls:49,vars:22,consts:[[1,"container"],["mat-stroked-button","",3,"routerLink"],["fxLayout","row","fxLayout.sm","column","fxLayout.xs","column","fxLayoutGap","0.5%"],["fxFlex.gt-sm","25%"],[1,"full-width"],["matInput","","placeholder","Matr\xedcula/login","name","login","readonly","",3,"ngModel"],["fxFlex.gt-sm","75%"],["matInput","","placeholder","Nome completo","name","nome","readonly","",3,"ngModel"],["fxFlex.gt-sm","33%"],["matInput","","placeholder","E-mail","name","email","readonly","",3,"ngModel"],["fxFlex.gt-sm","15%"],["matInput","","placeholder","Validado","name","validado","readonly","",3,"ngModel"],["matInput","","placeholder","Criado em","name","createdAt","readonly","",3,"ngModel"],["matInput","","placeholder","Atualizado em","name","updatedAt","readonly","",3,"ngModel"],["matInput","","placeholder","\xdaltimo login","name","ultimoLogin","readonly","",3,"ngModel"],["placeholder","Perfil",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxLayout","row wrap","fxLayoutGap","10px"],["mat-raised-button","","color","primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(g.Ub(0,"div",0),g.Ub(1,"h2"),g.Ub(2,"button",1),g.Ub(3,"mat-icon"),g.Cc(4,"chevron_left"),g.Tb(),g.Cc(5," Voltar "),g.Tb(),g.Cc(6," Dados do usu\xe1rio "),g.Tb(),g.Ub(7,"mat-card"),g.Ub(8,"mat-card-content"),g.Ub(9,"div",2),g.Ub(10,"div",3),g.Ub(11,"mat-form-field",4),g.Pb(12,"input",5),g.Tb(),g.Tb(),g.Ub(13,"div",6),g.Ub(14,"mat-form-field",4),g.Pb(15,"input",7),g.Tb(),g.Tb(),g.Tb(),g.Ub(16,"div",2),g.Ub(17,"div",8),g.Ub(18,"mat-form-field",4),g.Pb(19,"input",9),g.Tb(),g.Tb(),g.Ub(20,"div",10),g.Ub(21,"mat-form-field",4),g.Pb(22,"input",11),g.hc(23,"simNao"),g.Tb(),g.Tb(),g.Tb(),g.Ub(24,"div",2),g.Ub(25,"div",8),g.Ub(26,"mat-form-field",4),g.Pb(27,"input",12),g.hc(28,"date"),g.Tb(),g.Tb(),g.Ub(29,"div",8),g.Ub(30,"mat-form-field",4),g.Pb(31,"input",13),g.hc(32,"date"),g.Tb(),g.Tb(),g.Ub(33,"div",8),g.Ub(34,"mat-form-field",4),g.Pb(35,"input",14),g.hc(36,"date"),g.Tb(),g.Tb(),g.Tb(),g.Ub(37,"div",2),g.Ub(38,"div",3),g.Ub(39,"mat-form-field",4),g.Ub(40,"mat-label"),g.Cc(41,"Perfil"),g.Tb(),g.Ub(42,"mat-select",15),g.cc("ngModelChange",function(t){return e.usuario.perfis[0]=t}),g.Ub(43,"mat-option"),g.Cc(44,"Selecione o perfil"),g.Tb(),g.Bc(45,$,2,2,"mat-option",16),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Ub(46,"div",17),g.Ub(47,"button",18),g.cc("click",function(){return e.alterarPerfil()}),g.Cc(48,"Enviar"),g.Tb(),g.Tb(),g.Tb(),g.Tb(),g.Tb()),2&t&&(g.Db(2),g.mc("routerLink",g.oc(21,E)),g.Db(10),g.mc("ngModel",null==e.usuario?null:e.usuario.login),g.Db(3),g.mc("ngModel",null==e.usuario?null:e.usuario.nome),g.Db(4),g.mc("ngModel",null==e.usuario?null:e.usuario.email),g.Db(3),g.mc("ngModel",g.ic(23,10,null==e.usuario?null:e.usuario.validado)),g.Db(5),g.mc("ngModel",g.jc(28,12,null==e.usuario?null:e.usuario.createdAt,"short")),g.Db(4),g.mc("ngModel",g.jc(32,15,null==e.usuario?null:e.usuario.updatedAt,"short")),g.Db(4),g.mc("ngModel",g.jc(36,18,null==e.usuario?null:e.usuario.ultimoLogin,"short")),g.Db(7),g.mc("ngModel",e.usuario.perfis[0]),g.Db(3),g.mc("ngForOf",e.config.perfis))},directives:[w.a,o.d,S.a,B.a,B.b,N.c,N.d,N.a,U.c,T.b,z.c,z.n,z.q,U.g,V.a,_.l,i.k],pipes:[G,i.e],styles:[".container[_ngcontent-%COMP%]{margin:10px}.full-width[_ngcontent-%COMP%]{width:100%}"]}),t})(),canActivate:[r.a],runGuardsAndResolvers:"always",data:{roles:[n.a.administrador]}}];let q=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(e){return new(e||t)},imports:[[o.f.forChild(H)],o.f]}),t})();var K=a("PI13");let X=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})();var J=a("YUcS");let Y=(()=>{class t{}return t.\u0275mod=g.Mb({type:t}),t.\u0275inj=g.Lb({factory:function(e){return new(e||t)},imports:[[i.c,J.a,z.i,q,C.k,c.c,s.c,K.a,X]]}),t})()}}]);